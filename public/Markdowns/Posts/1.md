---
title: React에서 Markdown으로 블로그 만들기
date: 2024-06-21
tag: React, Test
---

React에서 md 파일을 어떻게 가져올 수 있는가?
-> react-markdown 라이브러리를 사용해서 가져옴

여러개의 md 파일이 있다고 가정할 때, 각 md 파일의 데이터를 어떻게 component로 가져올 것인가?
->

-   1. 여러개의 md 파일의 데이터를 렌더링하는 것은 자바스크립트 문법으로 해결하는데 어렵지 않았다.
-   2. .md 파일의 Title만 추출하려 했을때는

```javascript
import { remark } from 'remark';

export default function extractFirstH1(markdown) {
    // remark parse를 통해 마크다운 파싱
    const tree = remark().parse(markdown);

    // 트리의 노드들 중 첫 번째 H1 헤딩을 찾는다
    for (const node of tree.children) {
        if (node.type === 'heading' && node.depth === 1) {
            return node.children
                .filter((child) => child.type === 'text') // 텍스트 노드만 추출
                .map((child) => child.value) // 텍스트 값만 추출
                .join('');
        }
    }

    return ''; // H1 헤딩이 없는 경우 빈 문자열 반환
}
```

위의 코드와 같이 remark 라이브러리를 사용해서 가장 처음의 h1태그(.md파일의 #)을 가져오는 방식을 채택했다.

-   3. 그러나 점진적으로 작성일자와 같이 추출해야 할 데이터가 많아지면서 보다 효율적인 방법을 생각해야했다.
-   4. 방법을 찾아보던 중 나온 것이 gray-matter 라이브러리다. 알고봤더니 마크다운으로 블로그를 구현한다면 대부분 사용하는 라이브러리였다.
-   5. gray-matter 라이브러리를 사용하는데 matter()에서 렌더링이 안되는 이슈가 발생했다. 원인은 Webpack5에서 Node.js 핵심 모듈을 지원하지 않는 것이었는데, 이를 해결하기 위해서 Buffer 직접 설치하고 루트 컴포넌트에서 추가하는 방식을 채택했다.
-   6. YAML을 통해 사용한 front matter는 react-markdown에서 구별하지 못한다. 따라서 react-markdown을 통해서 렌더링할때 matter()을 사용해서 정제해줘야한다.

```javascript
const code = 'test';
```
